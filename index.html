<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Workout Builder & History Tracker</title>
  <style>
    :root {
      --background: #111;
      --foreground: #fff;
      --primary: #ff6600;
      --secondary: #222;
      --card: #1c1c1c;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--background);
      color: var(--foreground);
    }

    header {
      text-align: center;
      padding: 1rem;
      background-color: var(--secondary);
      font-size: 1.5rem;
      font-weight: bold;
    }

    .tabs {
      display: flex;
      overflow-x: auto;
      background-color: var(--secondary);
    }

    .tab {
      flex: 1;
      padding: 0.75rem;
      cursor: pointer;
      text-align: center;
      background-color: var(--secondary);
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
    }

    .tab.active {
      color: var(--primary);
      border-color: var(--primary);
      font-weight: bold;
    }

    .content {
      padding: 1rem;
    }

    .day-content {
      display: none;
    }

    .day-content.active {
      display: block;
    }

    .exercise {
      background-color: var(--card);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .exercise-title {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    .set {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.25rem;
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      gap: 0.5rem;
    }

    button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    .summary {
      margin-top: 2rem;
      background-color: var(--card);
      padding: 1rem;
      border-radius: 8px;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: var(--secondary);
      padding: 1rem;
      border-radius: 8px;
      width: 90%;
      max-width: 400px;
    }

    .modal input {
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.5rem;
      background: var(--card);
      border: 1px solid #333;
      color: var(--foreground);
      border-radius: 4px;
    }

    .add-btn {
      background: #333;
      padding: 0.5rem;
      text-align: center;
      margin-top: 1rem;
      cursor: pointer;
      border-radius: 4px;
    }

    .add-btn:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <header>üèãÔ∏è Workout Builder & Tracker</header>
  <div class="tabs" id="tabs"></div>
  <div class="content" id="content"></div>

  <div class="buttons">
    <button onclick="saveData()">üíæ Save</button>
    <button onclick="loadData()">üìÇ Load</button>
    <button onclick="clearData()">üóë Clear</button>
    <button onclick="addDay()">‚ûï Add Day</button>
  </div>

  <div class="summary" id="summary"></div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <h3>Edit Exercise</h3>
      <input type="text" id="exercise-name" placeholder="Exercise name" />
      <input type="number" id="exercise-sets" placeholder="Number of sets" />
      <input type="number" id="exercise-reps" placeholder="Reps per set" />
      <input type="number" id="exercise-weight" placeholder="Weight (lbs)" />
      <div class="add-btn" onclick="saveExercise()">‚úÖ Save</div>
    </div>
  </div>

  <script>
    let data = [];
    let currentDay = 0;
    let editingExercise = null;

    function renderTabs() {
      const tabEl = document.getElementById('tabs');
      tabEl.innerHTML = '';
      data.forEach((_, i) => {
        const tab = document.createElement('div');
        tab.className = 'tab' + (i === currentDay ? ' active' : '');
        tab.innerText = `Day ${i + 1}`;
        tab.onclick = () => {
          currentDay = i;
          render();
        };
        tabEl.appendChild(tab);
      });
    }

    function renderContent() {
      const contentEl = document.getElementById('content');
      contentEl.innerHTML = '';
      const day = data[currentDay];
      const container = document.createElement('div');
      container.className = 'day-content active';

      day.exercises.forEach((ex, i) => {
        const div = document.createElement('div');
        div.className = 'exercise';

        const title = document.createElement('div');
        title.className = 'exercise-title';
        title.innerText = ex.name;
        div.appendChild(title);

        ex.sets.forEach((set, j) => {
          const setDiv = document.createElement('div');
          setDiv.className = 'set';
          setDiv.innerText = `Set ${j + 1}: ${set.reps} reps √ó ${set.weight} lbs`;
          div.appendChild(setDiv);
        });

        const editBtn = document.createElement('button');
        editBtn.innerText = '‚úèÔ∏è Edit';
        editBtn.onclick = () => openModal(i);
        div.appendChild(editBtn);

        container.appendChild(div);
      });

      const addBtn = document.createElement('div');
      addBtn.className = 'add-btn';
      addBtn.innerText = '‚ûï Add Exercise';
      addBtn.onclick = () => openModal();
      container.appendChild(addBtn);

      contentEl.appendChild(container);
    }

    function renderSummary() {
      let totalDays = data.length;
      let totalExercises = 0;
      let totalVolume = 0;

      data.forEach(day => {
        day.exercises.forEach(ex => {
          totalExercises++;
          ex.sets.forEach(set => {
            totalVolume += set.reps * set.weight;
          });
        });
      });

      document.getElementById('summary').innerHTML = `
        <strong>üìä Summary:</strong><br/>
        Days Trained: ${totalDays}<br/>
        Exercises Logged: ${totalExercises}<br/>
        Total Volume: ${totalVolume} lbs
      `;
    }

    function render() {
      renderTabs();
      renderContent();
      renderSummary();
    }

    function openModal(index = null) {
      editingExercise = index;
      const modal = document.getElementById('modal');
      const ex = data[currentDay].exercises[index] || { name: '', sets: [{ reps: '', weight: '' }] };
      document.getElementById('exercise-name').value = ex.name || '';
      document.getElementById('exercise-sets').value = ex.sets?.length || 3;
      document.getElementById('exercise-reps').value = ex.sets?.[0]?.reps || 10;
      document.getElementById('exercise-weight').value = ex.sets?.[0]?.weight || 100;
      modal.style.display = 'flex';
    }

    function saveExercise() {
      const name = document.getElementById('exercise-name').value;
      const sets = Number(document.getElementById('exercise-sets').value);
      const reps = Number(document.getElementById('exercise-reps').value);
      const weight = Number(document.getElementById('exercise-weight').value);
      const newExercise = {
        name,
        sets: Array(sets).fill({ reps, weight })
      };

      if (editingExercise !== null) {
        data[currentDay].exercises[editingExercise] = newExercise;
      } else {
        data[currentDay].exercises.push(newExercise);
      }

      editingExercise = null;
      document.getElementById('modal').style.display = 'none';
      render();
    }

    function saveData() {
      localStorage.setItem('workoutData', JSON.stringify(data));
      alert('Data saved!');
    }

    function loadData() {
      const saved = localStorage.getItem('workoutData');
      if (saved) {
        data = JSON.parse(saved);
        currentDay = 0;
        render();
      }
    }

    function clearData() {
      if (confirm('Clear all workout data?')) {
        data = [];
        addDay();
        render();
      }
    }

    function addDay() {
      data.push({ exercises: [] });
      currentDay = data.length - 1;
      render();
    }

    // Initialize
    if (!localStorage.getItem('workoutData')) {
      addDay();
    } else {
      loadData();
    }

    // Close modal on outside click
    window.onclick = e => {
      if (e.target === document.getElementById('modal')) {
        document.getElementById('modal').style.display = 'none';
      }
    };
  </script>
</body>
</html>
